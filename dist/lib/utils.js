"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),Utils=function(){function t(e){_classCallCheck(this,t),this._self="",this.env="-dev",this.env="-test",this.env="",this.channelId="wzccb",this.aks={baidu:"E11ef5f194c0c35e87f46d5d0adea53f",qq:"WTPBZ-YIKCI-ETBGK-5IJKM-ZFGS7-DPFYE"},this._self=e}return _createClass(t,[{key:"init",value:function(){}},{key:"getPrefix",value:function(){return this.env}},{key:"getChannelId",value:function(){return this.channelId}},{key:"getAks",value:function(){return this.aks}},{key:"baiduMap",value:function(t,e,a){var n=this;wx.showLoading({title:"加载地图",mask:!0});var s={address:e,ak:n.getAks().baidu};a&&(s.city=a),t.request({url:"https://api.map.baidu.com/geocoder/v2/?output=json",data:s,complete:function(){wx.hideLoading()},success:function(e){var a=e.data;console.log("百度地图坐标",a.result.location),200==e.statusCode?t.request({url:"https://apis.map.qq.com/ws/coord/v1/translate",data:{locations:a.result.location.lat+","+a.result.location.lng,type:3,key:n.getAks().qq},success:function(e){0==e.data.status?(console.log("腾讯地图坐标",e.data.locations[0]),n._self.markers=e.data.locations,n._self.markers[0].latitude=n._self.markers[0].lat,n._self.markers[0].longitude=n._self.markers[0].lng,n._self.latitude=e.data.locations[0].lat,n._self.longitude=e.data.locations[0].lng,n._self.$apply()):t.showModal({title:"错误",content:a.data.message,showCancel:!1})},fail:function(){t.showModal({title:"错误",content:"网络错误，请重试",showCancel:!1})}}):t.showModal({title:"错误",content:"获取数据错误",showCancel:!1})},fail:function(){t.showModal({title:"错误",content:"网络错误，请重试",showCancel:!1})}})}}]),t}();exports.default=Utils;